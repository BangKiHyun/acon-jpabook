# 어노테이션 설명

## @PersistenceContext

- 컨테이너가 관리하는 엔티티 매니저를 주입하는 어노테이션
  엔티티 매니저 팩토리에서 엔티티 매니저를 직접 생성해서 사용할 필요 없음
- 엔티티 매니저를 컨테이너로부터 주입받아야 하는 이유는 트랙잭션 기능과 연계해서 컨테이너의 다양한 기능들을 사용할 수 있게 해줌,

</br >

## @PersistenceUnit

- 컨테이너가 관리하는 엔티티 매니저 팩토리를 주입받을수 있게 하는 어노테이션
- 자주 사용하지 않음

</br >

## @Transactional

- 스프링 프레임워크에서 이 어노테이션이 붙어 있는 클래스나 메서드에 트랜잭션을 적용
- 외부에서 이 클래스의 메서드를 호출할 때 트랜잭션을 시작하고 메서드를 종료할 때 트랜잭션을 커밋
- 예외가 발생하면 트랜잭션을 롤백

### 참고

- @Transactional은 RuntimeException과 그 자식들인 Unchecked 예외만 롤백한다.
- 만약 Checked예외가 발생해도 롤백하고 싶다면 @Transactional(rollbackFor = Exception.class)처럼 롤백할 예외를 지정하면 된다.

</br >

## @Transactional이 테스트에서 사용될 때

- 각각의 테스트를 실행할 때마다 트랜잭션을 시작하고 **테스트가 끝나면 트랜잭션을 강제로 롤백**
- 따라서 테스트를 진행하면서 DB에 저장한 데이터가 롤백되므로 걱정할 필요 없다.

