## 요구사항 분석

### 핵심 요구사항

- 회원은 상품을 주문할 수 있다.
- 주문 시 여러 종류의 상품을 선택할 수 있다.
- 상품을 주문할 때 배송 정보를 입력할 수 있다.
- 주문과 배송을 일대일 관계다.
- 상품을 카테고리로 구분할 수 있다.



### 기능

 - 회원 기능
   	- 회원 등록
      	- 회원 조회
- 상품 기능
  - 상품 등록
  - 상품 수정
  - 상품 조회
- 주문 기능
  - 상품 주문
  - 주문 내역 조회
  - 주문 취소



### 도메인 모델 분석

- 회원과 주문의 관계
  - 회원은 여러 번 주문할 수 있으므로 회원가 주문의 일대다 관계다.
- 주문과 상품의 관계
  - 주문할 때 여러 상품을 함께 선택할 수 있고, 같은 상품도 여러 번 주문될 수 있으므로 둘을 다대다 관계다.
  - 이런 다대다 관계는 관계형 DB와 엔티티에서도 거의 사용하지 않는다. 그러므로 주문상품이라는 연결 엔티티를 추가해서 다대다 관계를 일대다, 다대일 관계로 풀어낸다.
  - 주문상품은 해당 상품을 구매한 금액과 수량 정보를 포함한다.
- 주문과 배송
  - 주분과 배송은 일대일 관계다.
  - 객체 관계를 고려할 때 주문에서 배송으로 자주 접근할 예정이므로 외래 키를 주문 테이블에 두었다.
  - 일대일 관계에서는 ORDERS 테이블에 있는 DELIVERY_ID 외래 키에 유니크 제약조건을 주는게 좋다.
- 상품과 카테고리
  - 한 상품은 여러 카테고리에 속할 수 있고, 한 카테고리도 여러 상품에 속할 수 있다.(다대다 관계)
  - CATEGORY_ITEM 연결 테이블을 추가해서 다대다 관계를 일대다, 다대일 관계로 풀어냈다.



### 설명

회원과 주문은 일대다 관계고 그 반대인 주문과 회원은 다대일 관계다.
Order->Member로 참조하는 Order.member 필드와 Member->Order로 참조하는 Member.orders 필드 중 외래 키가 있는 Order.member가 연관관계의 주인이 된다.

주문과 주문상품은 일대다 관계고 그 반대는 다대일 관계다.
외래 키가 있는 OrderItem.order가 연관관계의 주인이 된다.

주문상품과 상품은 다대일 단방향 관계로 설정했다.
비즈니스 요구사항을 분석해본 결과 주문상품에서 상품을 참조할 일을 많지만, 상품에서 주문상품을 참조할 일은 거의 없다고 판단됐다.